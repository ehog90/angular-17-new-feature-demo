@if (lastRow !== null) {
<div class="m-3">
    <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-2">
        <app-summary-card [value]="lastRow.totalInvested" header="Total Invested"></app-summary-card>
        <app-summary-card [value]="lastRow.yearEndMoney" header="Total Value"></app-summary-card>
        <app-summary-card [value]="lastRow.totalEarnings" header="Total Earnings"></app-summary-card>
        <app-summary-card [value]="lastRow.yearEndMoneyValueToday" header="Total Value (Today)"
            [secondary]="true"></app-summary-card>
    </div>
</div>
}
<div class="bg-purple-900 text-purple-50 rounded-lg shadow-lg m-3 p-6">
    <div class="flex gap-2 justify-center m-4">
        <button class="bg-purple-500 rounded-md text-purple-100 p-2 shadow-md hover:bg-purple-400"
            (click)="changeYears(1)">Increase
            years</button>
        <button class="bg-purple-500 rounded-md text-purple-100 p-2 shadow-md hover:bg-purple-50"
            (click)="changeYears(-1)">Decrease
            years</button>
    </div>
    <div class="grid grid-cols-12 gap-2 text-xs">
        <div class="font-extrabold">Year</div>
        <div class="font-extrabold">Starting Money</div>
        <div class="font-extrabold">Total inflation, %</div>
        <div class="font-extrabold">Total growth, %</div>
        <div class="font-extrabold">Monthly (yearly) savings</div>
        <div class="font-extrabold">Intra-year Investment and growth</div>
        <div class="font-extrabold">Total Invested</div>
        <div class="font-extrabold">Total Invested (Value today)</div>
        <div class="font-extrabold">Total (Year-end)</div>
        <div class="font-extrabold">Total (Value today)</div>
        <div class="font-extrabold">Total Earnings</div>
        <div class="font-extrabold">Total Earnings (value today)</div>

        @for (row of data(); track $index) {
        <div class="flex flex-col text-sm">
            {{row.year}}
        </div>
        <div class="flex flex-col">
            {{row.startingMoney | number: '1.0-0'}}
        </div>
        <div class="flex flex-col">
            {{(row.totalInflation - 1) | percent: '1.2'}}
        </div>
        <div class="flex flex-col">
            {{(row.totalGrowth - 1) | percent: '1.2'}}
        </div>
        <div class="flex flex-col">
            {{row.savingsMonthly | number: '1.0-0'}} ({{row.savingsMonthly * 12 | number: '1.0-0'}})
        </div>
        <div class="flex flex-col">
            {{row.intraYearGrowth | number: '1.0-0'}}
        </div>
        <div class="flex flex-col">
            {{row.totalInvested | number: '1.0-0'}}
        </div>
        <div class="flex flex-col text-purple-400">
            {{row.totalInvestedValueToday | number: '1.0-0'}}
        </div>
        <div class="flex flex-col font-bold">
            {{row.yearEndMoney | number: '1.0-0'}}
        </div>
        <div class="flex flex-col text-purple-400">
            {{row.yearEndMoneyValueToday | number: '1.0-0'}}
        </div>
        <div class="flex flex-col font-bold">
            {{row.totalEarnings | number: '1.0-0'}}
        </div>
        <div class="flex flex-col text-purple-400">
            {{row.totalEarningsValueToday | number: '1.0-0'}}
        </div>
        }
    </div>
</div>